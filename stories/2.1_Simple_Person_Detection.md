# Story 2.1: Simple Person Detection at Desk

**Epic:** 2 - Perception & Sensing

**Description:**
Implement a simple and reliable person detection system using the USB webcam. This will be used during the delivery phase to determine if a desk is occupied and should receive a paper.

The detection should be lightweight and fast enough to run at each desk stop without significant delay.

**Tasks:**
1. Research simple person detection approaches:
   - Option A: Use existing gesture detection (MediaPipe Pose detects people)
   - Option B: Face detection using OpenCV Haar Cascades
   - Option C: Motion detection (background subtraction)
   - Option D: Simple MediaPipe Pose with just "person present" check
2. Create a new module: `yahoo/sense/person_detector.py`
3. Implement the chosen detection method with:
   - `PersonDetector` class with `detect(frame)` method
   - Returns: `True` if person detected, `False` otherwise
   - Should work in simulation mode (returns mock data)
4. Create a test script: `tests/test_person_detection.py`
5. Test detection with:
   - Person sitting at desk (should detect)
   - Empty desk/chair (should not detect)
   - Various lighting conditions
   - Various distances (from robot's typical stopping position)

**Acceptance Criteria:**
- A `yahoo/sense/person_detector.py` module exists with `PersonDetector` class
- The detector can reliably identify if a person is present in a frame
- Detection accuracy > 90% in typical classroom lighting
- Detection completes in < 0.5 seconds per frame
- Test script demonstrates detection working on webcam feed
- Code works in both simulation mode (Mac) and hardware mode (Pi)

**Design Considerations:**
- **Simple is better** - Don't need to identify who the person is, just if someone is there
- **Speed matters** - Will run at each desk, shouldn't slow down delivery
- **Robust to variation** - Should handle different poses (sitting, leaning, etc.)
- **Minimal false positives** - Empty chair shouldn't trigger detection

**Recommended Approach:**
Start with **Option D** (simplified MediaPipe Pose):
- Reuse existing MediaPipe infrastructure from gesture detection
- Just check if pose landmarks are detected (person present)
- Fast, reliable, already proven in gesture detection
- Can be simplified to just check for shoulder/nose landmarks

**Integration Points:**
- Will be called by delivery mission script (Story 3.1)
- Uses same camera as gesture detection (USB webcam)
- Should use similar logging patterns as gesture detector
